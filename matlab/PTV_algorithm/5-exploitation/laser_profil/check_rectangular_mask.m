% INPUT: 
% data_mask: array containing the info to build a rectangular mask;
% data_mask = [x0 y0 long larg]
% array: a set of particles to check (basically a set of x and y
% coordinates)
%
% This function returns an array containing only the particles of 'array' 
% which are under the rectangular mask
%
%OUTPUT: result, an array containing the particles located under the mask

function result = check_rectangular_mask(data_mask, array)

sz = size(array);
index = 1;
for i=1:sz(1)
    if data_mask(1,1)<array(i,1) && array(i,1)<data_mask(1,1)+data_mask(1,3) 
        if data_mask(1,2)<array(i,2) && array(i,2) <data_mask(1,2) +data_mask(1,4)
            result(index,:) = array(i,:);
            index = index+1;
        end
    end
end
