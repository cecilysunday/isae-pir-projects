function result = smooth_pos(tr3)
    
    s = size(tr3);
    nb_part = tr3(1,4);
    start = 1;
    for i = 1:s(1)
        if (tr3(i,4) ~= nb_part)
            vr = smoothn(tr3(start:i-1,1),'robust');
            vtheta = smoothn(tr3(start:i-1,2),'robust');
            tr3(start:i-1,1) = vr;
            tr3(start:i-1,2) = vtheta;
            nb_part = nb_part + 1;
            start = i;
        end
    end
    
    vr = smoothn(tr3(start:s(1),1),'robust');
    vtheta = smoothn(tr3(start:s(1),2),'robust');
    tr3(start:s(1),1) = vr;
    tr3(start:s(1),2) = vtheta;
    result = tr3;
end